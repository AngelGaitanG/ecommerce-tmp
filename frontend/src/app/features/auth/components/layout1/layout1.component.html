<div class="layout1-container">
  <div class="layout1-card">
    <!-- Hero Section - Left Side -->
    <div class="hero-section">
      <div class="hero-content">
        <div class="hero-logo">
          <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 3h18l-2 13H5L3 3z"></path>
            <path d="M16 16a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"></path>
            <path d="M23 16a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"></path>
          </svg>
        </div>
        <h1 class="hero-title">{{ isLoginMode ? 'Bienvenido de vuelta' : 'Únete a nosotros' }}</h1>
        <p class="hero-subtitle">{{ isLoginMode ? 'Accede a tu cuenta y descubre las mejores ofertas en productos exclusivos' : 'Crea tu cuenta y comienza a disfrutar de nuestros productos premium' }}</p>
        
        <div class="hero-features">
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 12l2 2 4-4"></path>
                <circle cx="12" cy="12" r="10"></circle>
              </svg>
            </div>
            <span>Compras seguras</span>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
              </svg>
            </div>
            <span>Envío rápido</span>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path>
              </svg>
            </div>
            <span>Productos premium</span>
          </div>
        </div>
        
        <div class="hero-stats">
          <div class="stat-item">
            <div class="stat-number">10K+</div>
            <div class="stat-label">Clientes felices</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">500+</div>
            <div class="stat-label">Productos</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">99%</div>
            <div class="stat-label">Satisfacción</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Form Section - Right Side -->
    <div class="form-section">
      <div class="form-content">
        <!-- Back to Home Button -->
        <div class="back-to-home">
          <a routerLink="/" class="back-home-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 12H5"></path>
              <path d="M12 19l-7-7 7-7"></path>
            </svg>
            Volver al inicio
          </a>
        </div>
        
        <div class="form-header">
          <h2 class="form-title">{{ isLoginMode ? 'Iniciar Sesión' : 'Crear Cuenta' }}</h2>
          <p class="form-subtitle">{{ isLoginMode ? 'Ingresa tus credenciales para continuar' : 'Completa los datos para registrarte' }}</p>
        </div>

        <!-- Login Form -->
        <form *ngIf="isLoginMode" [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form">
          <!-- Email Field -->
          <div class="form-group">
            <label for="email" class="form-label">Email</label>
            <div class="input-wrapper">
              <input
                type="email"
                id="email"
                formControlName="email"
                class="form-input"
                [class.error]="isFieldInvalid('email')"
                placeholder="tu@email.com"
                autocomplete="email"
              />
              <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                      d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"></path>
              </svg>
            </div>
            <div class="error-message" *ngIf="isFieldInvalid('email')">
              {{ getFieldError('email') }}
            </div>
          </div>

          <!-- Password Field -->
          <div class="form-group">
            <label for="password" class="form-label">Contraseña</label>
            <div class="input-wrapper">
              <input
                [type]="showPassword ? 'text' : 'password'"
                id="password"
                formControlName="password"
                class="form-input"
                [class.error]="isFieldInvalid('password')"
                placeholder="••••••••"
                autocomplete="current-password"
              />
              <button
                type="button"
                class="password-toggle"
                (click)="togglePasswordVisibility()"
                [attr.aria-label]="showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'"
              >
                <svg *ngIf="!showPassword" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                        d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                        d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                </svg>
                <svg *ngIf="showPassword" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                        d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"></path>
                </svg>
              </button>
            </div>
            <div class="error-message" *ngIf="isFieldInvalid('password')">
              {{ getFieldError('password') }}
            </div>
          </div>

          <!-- Remember Me & Forgot Password -->
          <div class="form-options">
            <label class="checkbox-wrapper">
              <input type="checkbox" class="checkbox-input">
              <span class="checkbox-custom"></span>
              <span class="checkbox-label">Recordarme</span>
            </label>
            <button type="button" class="forgot-password" (click)="navigateToForgotPassword()">
              ¿Olvidaste tu contraseña?
            </button>
          </div>

          <!-- Error Message -->
          <div class="error-message" *ngIf="errorMessage">
            {{ errorMessage }}
          </div>

          <!-- Submit Button -->
          <button 
            type="submit" 
            class="submit-btn"
            [disabled]="loadingService.loading$ | async"
          >
            <span *ngIf="!(loadingService.loading$ | async)">Iniciar Sesión</span>
            <div *ngIf="loadingService.loading$ | async" class="loading-spinner"></div>
          </button>

          <!-- Register Link -->
          <div class="register-link">
            <span>¿No tienes cuenta?</span>
            <button type="button" class="register-btn" (click)="toggleMode()">
              Regístrate aquí
            </button>
          </div>
        </form>

        <!-- Register Form -->
        <form *ngIf="!isLoginMode" [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()" class="auth-form">
          <!-- First Name Field -->
          <div class="form-group">
            <label for="firstName" class="form-label">Nombre</label>
            <div class="input-wrapper">
              <input
                type="text"
                id="firstName"
                formControlName="firstName"
                class="form-input"
                [class.error]="isRegisterFieldInvalid('firstName')"
                placeholder="Tu nombre"
                autocomplete="given-name"
              />
              <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                      d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
              </svg>
            </div>
            <div class="error-message" *ngIf="isRegisterFieldInvalid('firstName')">
              {{ getRegisterFieldError('firstName') }}
            </div>
          </div>

          <!-- Last Name Field -->
          <div class="form-group">
            <label for="lastName" class="form-label">Apellido</label>
            <div class="input-wrapper">
              <input
                type="text"
                id="lastName"
                formControlName="lastName"
                class="form-input"
                [class.error]="isRegisterFieldInvalid('lastName')"
                placeholder="Tu apellido"
                autocomplete="family-name"
              />
              <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                      d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
              </svg>
            </div>
            <div class="error-message" *ngIf="isRegisterFieldInvalid('lastName')">
              {{ getRegisterFieldError('lastName') }}
            </div>
          </div>

          <!-- Email Field -->
          <div class="form-group">
            <label for="registerEmail" class="form-label">Email</label>
            <div class="input-wrapper">
              <input
                type="email"
                id="registerEmail"
                formControlName="email"
                class="form-input"
                [class.error]="isRegisterFieldInvalid('email')"
                placeholder="tu@email.com"
                autocomplete="email"
              />
              <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                      d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"></path>
              </svg>
            </div>
            <div class="error-message" *ngIf="isRegisterFieldInvalid('email')">
              {{ getRegisterFieldError('email') }}
            </div>
          </div>

          <!-- Password Field -->
          <div class="form-group">
            <label for="registerPassword" class="form-label">Contraseña</label>
            <div class="input-wrapper">
              <input
                [type]="showPassword ? 'text' : 'password'"
                id="registerPassword"
                formControlName="password"
                class="form-input"
                [class.error]="isRegisterFieldInvalid('password')"
                placeholder="••••••••"
                autocomplete="new-password"
              />
              <button
                type="button"
                class="password-toggle"
                (click)="togglePasswordVisibility()"
                [attr.aria-label]="showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'"
              >
                <svg *ngIf="!showPassword" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                        d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                        d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                </svg>
                <svg *ngIf="showPassword" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                        d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"></path>
                </svg>
              </button>
            </div>
            <div class="error-message" *ngIf="isRegisterFieldInvalid('password')">
              {{ getRegisterFieldError('password') }}
            </div>
          </div>

          <!-- Confirm Password Field -->
          <div class="form-group">
            <label for="confirmPassword" class="form-label">Confirmar Contraseña</label>
            <div class="input-wrapper">
              <input
                [type]="showConfirmPassword ? 'text' : 'password'"
                id="confirmPassword"
                formControlName="confirmPassword"
                class="form-input"
                [class.error]="isRegisterFieldInvalid('confirmPassword')"
                placeholder="••••••••"
                autocomplete="new-password"
              />
              <button
                type="button"
                class="password-toggle"
                (click)="toggleConfirmPasswordVisibility()"
                [attr.aria-label]="showConfirmPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'"
              >
                <svg *ngIf="!showConfirmPassword" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                        d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                        d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                </svg>
                <svg *ngIf="showConfirmPassword" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                        d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"></path>
                </svg>
              </button>
            </div>
            <div class="error-message" *ngIf="isRegisterFieldInvalid('confirmPassword')">
              {{ getRegisterFieldError('confirmPassword') }}
            </div>
          </div>

          <!-- Error Message -->
          <div class="error-message" *ngIf="errorMessage">
            {{ errorMessage }}
          </div>

          <!-- Submit Button -->
          <button 
            type="submit" 
            class="submit-btn"
            [disabled]="loadingService.loading$ | async"
          >
            <span *ngIf="!(loadingService.loading$ | async)">Crear Cuenta</span>
            <div *ngIf="loadingService.loading$ | async" class="loading-spinner"></div>
          </button>

          <!-- Login Link -->
          <div class="register-link">
            <span>¿Ya tienes cuenta?</span>
            <button type="button" class="register-btn" (click)="toggleMode()">
              Inicia sesión aquí
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>